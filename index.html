<!DOCTYPE html>
<html lang='en'>
    
<head>

    <meta charset='utf-8' />
    <title>Meet the THB</title>
    <meta name='viewport' content='width=device-width, initial-scale=1' />

    <script src='https://api.tiles.mapbox.com/mapbox-gl-js/v2.2.0/mapbox-gl.js'></script>
    <link href='https://api.tiles.mapbox.com/mapbox-gl-js/v2.2.0/mapbox-gl.css' rel='stylesheet' />

    <link href="https://fonts.googleapis.com/css?family=Open+Sans" rel="stylesheet"/>

    <style>
        body {
            margin: 0;
            padding: 0;
        }

        #map {
            position: absolute;
            top: 0;
            bottom: 0;
            width: 100%;
        }

        .mapboxgl-popup {
            max-width: 200px;
        }

        .mapboxgl-popup-content {
            text-align: left;
            font-family: 'Open Sans', sans-serif;
        }


    </style>

</head>
    
<body>
    
<div id="map"></div>
          
<script>
    mapboxgl.accessToken = 'pk.eyJ1IjoiZWxsaWVtYXBzIiwiYSI6ImNrbXNodDk1NDBodXQyd281cTNmaGkyZmQifQ.CgVgTN5Coqtw2SpQnrCm2Q';
    
    
                        
    var map = new mapboxgl.Map({
      container: 'map',
      style: 'mapbox://styles/elliemaps/ckngscr5x0ea417mkooe9tywu',
      center: [27.142344, 26.371925],
      zoom: 1.3
    });
    
    var nav = new mapboxgl.NavigationControl();
    map.addControl(nav, 'top-left');
        
    //disable map rotation using right click + drag
    map.dragRotate.disable();

    //disable map rotation using touch rotation gesture
    map.touchZoomRotate.disableRotation();
        
    map.on('load', function() {
        
        map.on('click', function(e) {

            var features = map.queryRenderedFeatures(e.point, {
                layers: ['thb'] // Mapbox Studio dataset layer
            });

              if (!features.length) {
                return;
              }

            var places = features[0];

            var popup = new mapboxgl.Popup({ offset: [0, -15] })
                .setLngLat(places.geometry.coordinates)
                .setHTML('<h3>' + places.properties.name + ', ' + places.properties.job + ', ' + places.properties.team + '</h3><h4>' + places.properties.question + '</h4>' + places.properties.comments + '</p>')
                .addTo(map);
        });
        
        
        //change the cursor to a pointer when the mouse is over the places layer.
        map.on('mouseenter', 'thb', function() {
            map.getCanvas().style.cursor = 'pointer';
        });

        //change back to pointer
        map.on('mouseleave', 'thb', function() {
            map.getCanvas().style.cursor = '';
        });
        
    });
        
</script>

</body>
</html>